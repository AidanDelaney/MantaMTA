@{
    ViewBag.Title = "Bounces";
    Layout = "~/Views/Sends/_ReportLayout.cshtml";
}

<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>VirtualMTA</th>
			<th>Status</th>
			<th>Remote</th>
			<th>Response</th>
			<th>Count</th>
		</tr>
	</thead>
	<tbody>
		@foreach(WebInterfaceLib.BO.BounceInfo bounce in Model.BounceInfo)
		{
			<tr>
				<td>@bounce.LocalHostname<br /><small>@bounce.LocalIpAddress</small></td>
				@switch (bounce.TransactionStatus)
				{
					case MantaMTA.Core.Enums.TransactionStatus.Deferred:
						<td class="stat-blue">Deferred</td>
						break;
					case MantaMTA.Core.Enums.TransactionStatus.Discarded:
						<td class="stat-red">Discarded</td>
						break;
					case MantaMTA.Core.Enums.TransactionStatus.Failed:
						<td class="stat-red">Rejected</td>
						break;
					case MantaMTA.Core.Enums.TransactionStatus.TimedOut:
						<td class="stat-red">Timed Out In Queue</td>
						break;
				}
				<td>@bounce.RemoteHostname</td>
				<td>@bounce.Message</td>
				<td>@bounce.Count.ToString("N0")</td>
			</tr>
		}
	</tbody>
</table>

<div class="pagination">
	<ul>
		@for (int i = 1; i <= Model.PageCount; i++)
		{
			<li @(Model.CurrentPage == i ? "class=active": string.Empty)><a href="/sends/bounces?sendID=@Model.SendID&page=@i">@i</a></li>
		}
	</ul>
</div>